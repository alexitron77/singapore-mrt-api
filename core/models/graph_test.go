package models

import (
	"reflect"
	"testing"
)

func TestComputePath(t *testing.T) {

	expected := map[string][]string{"CC1": {"CC2", "NS24", "NE6"}, "CC10": {"CC9", "CC11", "DT26"}, "CC11": {"CC10", "CC12"}, "CC12": {"CC11", "CC13"}, "CC13": {"CC12", "CC14", "NE12"}, "CC14": {"CC13", "CC15"}, "CC15": {"CC14", "CC16", "NS17"}, "CC16": {"CC15", "CC17"}, "CC17": {"CC16", "CC19", "TE9"}, "CC19": {"CC17", "CC20", "DT9"}, "CC2": {"CC1", "CC3"}, "CC20": {"CC19", "CC21"}, "CC21": {"CC20", "CC22"}, "CC22": {"CC21", "CC23", "EW21"}, "CC23": {"CC22", "CC24"}, "CC24": {"CC23", "CC25"}, "CC25": {"CC24", "CC26"}, "CC26": {"CC25", "CC27"}, "CC27": {"CC26", "CC28"}, "CC28": {"CC27", "CC29"}, "CC29": {"CC28", "NE1"}, "CC3": {"CC2", "CC4"}, "CC4": {"CC3", "CC5", "CE0", "DT15"}, "CC5": {"CC4", "CC6"}, "CC6": {"CC5", "CC7"}, "CC7": {"CC6", "CC8"}, "CC8": {"CC7", "CC9"}, "CC9": {"CC8", "CC10", "EW8"}, "CE0": {"CE1", "CC4", "DT15"}, "CE1": {"CE0", "CE2", "DT16"}, "CE2": {"CE1", "NS27", "TE20"}, "CG0": {"CG1", "EW4"}, "CG1": {"CG0", "CG2", "DT35"}, "CG2": {"CG1"}, "DT1": {"DT2"}, "DT10": {"DT9", "DT11", "TE11"}, "DT11": {"DT10", "DT12", "NS21"}, "DT12": {"DT11", "DT13", "NE7"}, "DT13": {"DT12", "DT14"}, "DT14": {"DT13", "DT15", "EW12"}, "DT15": {"DT14", "DT16", "CC4", "CE0"}, "DT16": {"DT15", "DT17", "CE1"}, "DT17": {"DT16", "DT18"}, "DT18": {"DT17", "DT19"}, "DT19": {"DT18", "DT20", "NE4"}, "DT2": {"DT1", "DT3"}, "DT20": {"DT19", "DT21"}, "DT21": {"DT20", "DT22"}, "DT22": {"DT21", "DT23"}, "DT23": {"DT22", "DT24"}, "DT24": {"DT23", "DT25"}, "DT25": {"DT24", "DT26"}, "DT26": {"DT25", "DT27", "CC10"}, "DT27": {"DT26", "DT28"}, "DT28": {"DT27", "DT29"}, "DT29": {"DT28", "DT30"}, "DT3": {"DT2", "DT5"}, "DT30": {"DT29", "DT31"}, "DT31": {"DT30", "DT32"}, "DT32": {"DT31", "DT33", "EW2"}, "DT33": {"DT32", "DT34"}, "DT34": {"DT33", "DT35"}, "DT35": {"DT34", "CG1"}, "DT5": {"DT3", "DT6"}, "DT6": {"DT5", "DT7"}, "DT7": {"DT6", "DT8"}, "DT8": {"DT7", "DT9"}, "DT9": {"DT8", "DT10", "CC19"}, "EW1": {"EW2"}, "EW10": {"EW9", "EW11"}, "EW11": {"EW10", "EW12"}, "EW12": {"EW11", "EW13", "DT14"}, "EW13": {"EW12", "EW14", "NS25"}, "EW14": {"EW13", "EW15", "NS26"}, "EW15": {"EW14", "EW16"}, "EW16": {"EW15", "EW17", "NE3", "TE17"}, "EW17": {"EW16", "EW18"}, "EW18": {"EW17", "EW19"}, "EW19": {"EW18", "EW20"}, "EW2": {"EW1", "EW3", "DT32"}, "EW20": {"EW19", "EW21"}, "EW21": {"EW20", "EW22", "CC22"}, "EW22": {"EW21", "EW23"}, "EW23": {"EW22", "EW24"}, "EW24": {"EW23", "EW25", "NS1"}, "EW25": {"EW24", "EW26"}, "EW26": {"EW25", "EW27"}, "EW27": {"EW26", "EW28"}, "EW28": {"EW27", "EW29"}, "EW29": {"EW28", "EW30"}, "EW3": {"EW2", "EW4"}, "EW30": {"EW29", "EW31"}, "EW31": {"EW30", "EW32"}, "EW32": {"EW31", "EW33"}, "EW33": {"EW32"}, "EW4": {"EW3", "EW5", "CG0"}, "EW5": {"EW4", "EW6"}, "EW6": {"EW5", "EW7"}, "EW7": {"EW6", "EW8"}, "EW8": {"EW7", "EW9", "CC9"}, "EW9": {"EW8", "EW10"}, "NE1": {"NE3", "CC29"}, "NE10": {"NE9", "NE11"}, "NE11": {"NE10", "NE12"}, "NE12": {"NE11", "NE13", "CC13"}, "NE13": {"NE12", "NE14"}, "NE14": {"NE13", "NE15"}, "NE15": {"NE14", "NE16"}, "NE16": {"NE15", "NE17"}, "NE17": {"NE16"}, "NE3": {"NE1", "NE4", "EW16", "TE17"}, "NE4": {"NE3", "NE5", "DT19"}, "NE5": {"NE4", "NE6"}, "NE6": {"NE5", "NE7", "NS24", "CC1"}, "NE7": {"NE6", "NE8", "DT12"}, "NE8": {"NE7", "NE9"}, "NE9": {"NE8", "NE10"}, "NS1": {"NS2", "EW24"}, "NS10": {"NS9", "NS11"}, "NS11": {"NS10", "NS12"}, "NS12": {"NS11", "NS13"}, "NS13": {"NS12", "NS14"}, "NS14": {"NS13", "NS15"}, "NS15": {"NS14", "NS16"}, "NS16": {"NS15", "NS17"}, "NS17": {"NS16", "NS18", "CC15"}, "NS18": {"NS17", "NS19"}, "NS19": {"NS18", "NS20"}, "NS2": {"NS1", "NS3"}, "NS20": {"NS19", "NS21"}, "NS21": {"NS20", "NS22", "DT11"}, "NS22": {"NS21", "NS23", "TE14"}, "NS23": {"NS22", "NS24"}, "NS24": {"NS23", "NS25", "NE6", "CC1"}, "NS25": {"NS24", "NS26", "EW13"}, "NS26": {"NS25", "NS27", "EW14"}, "NS27": {"NS26", "NS28", "CE2", "TE20"}, "NS28": {"NS27"}, "NS3": {"NS2", "NS4"}, "NS4": {"NS3", "NS5"}, "NS5": {"NS4", "NS7"}, "NS7": {"NS5", "NS8"}, "NS8": {"NS7", "NS9"}, "NS9": {"NS8", "NS10", "TE2"}, "TE1": {"TE2"}, "TE10": {"TE9", "TE11"}, "TE11": {"TE10", "TE12", "DT10"}, "TE12": {"TE11", "TE13"}, "TE13": {"TE12", "TE14"}, "TE14": {"TE13", "TE15", "NS22"}, "TE15": {"TE14", "TE16"}, "TE16": {"TE15", "TE17"}, "TE17": {"TE16", "TE18", "EW16", "NE3"}, "TE18": {"TE17", "TE19"}, "TE19": {"TE18", "TE20"}, "TE2": {"TE1", "TE3", "NS9"}, "TE20": {"TE19", "TE21", "NS27", "CE2"}, "TE21": {"TE20", "TE22"}, "TE22": {"TE21"}, "TE3": {"TE2", "TE4"}, "TE4": {"TE3", "TE5"}, "TE5": {"TE4", "TE6"}, "TE6": {"TE5", "TE7"}, "TE7": {"TE6", "TE8"}, "TE8": {"TE7", "TE9"}, "TE9": {"TE8", "TE10", "CC17"}}

	path := "../../public/station_map.csv"

	res := BuildGraph(path)

	if reflect.DeepEqual(expected, res) == false {
		t.Errorf("Expected %v\n Got %v", expected, res)
	} else {
		t.Logf("Successfully pass")
	}
}
